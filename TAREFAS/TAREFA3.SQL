CREATE DATABASE HENDRIX;

USE HENDRIX;

CREATE TABLE FUNCIONARIOS(
	MATRICULA INT AUTO_INCREMENT,
	CPF BIGINT (11) NOT NULL,
    NOME VARCHAR (200) NOT NULL,
    ENDERECO VARCHAR (200),
    TELEFONE VARCHAR (200),
    PRIMARY KEY (MATRICULA)
);

CREATE TABLE BANCO(
	ID_BANCO SMALLINT AUTO_INCREMENT,
    AGENCIA BIGINT NOT NULL,
    NOME VARCHAR (200),
    ENDERECO VARCHAR (200),
    TELEFONE VARCHAR (200),
    PRIMARY KEY (ID_BANCO)
);

CREATE TABLE CLIENTES(
	ID_CLIENTE SMALLINT AUTO_INCREMENT,
    CPF BIGINT (11) NOT NULL,
    NOME VARCHAR (200) NOT NULL,
    CONTACORRENTE VARCHAR (200) NOT NULL,
    CONTAPOUPANCA VARCHAR (200) NOT NULL,
    CARTAOCREDITO VARCHAR (200) NOT NULL,
    ENDERECO VARCHAR (200),
    TELEFONE VARCHAR (200),
    TIPOCLIENTE VARCHAR (200) NOT NULL,
    VALOREMCONTA BIGINT  NOT NULL, 
    MATRICULA_FUNC INT,
    ID_BANCO SMALLINT,
    PRIMARY KEY (ID_CLIENTE),
    CONSTRAINT FK_FUNC_CLIENTE FOREIGN KEY (MATRICULA_FUNC) REFERENCES FUNCIONARIOS(MATRICULA),
    CONSTRAINT FK_CLI_BANCO FOREIGN KEY (ID_BANCO) REFERENCES BANCO(ID_BANCO)
);

INSERT INTO FUNCIONARIOS (CPF, NOME, ENDERECO, TELEFONE)
VALUES ('08819053489', 'MARIA JOSE', 'RUA DAS COUVES, 870', '3221-7669'),
('95651403604', 'ANA CLARA', 'RUA DAS HORTALICAS, 770', '3221-7689'),
('12345678910', 'JOSE FARIAS', 'RUA DAS VERDURAS, 444', '3444-7669'),
('10987654321', 'FILOMENA DOS SANTOS', 'RUA DOS TOMATES, 555', '3666-7669');

INSERT INTO BANCO (AGENCIA, NOME, ENDERECO, TELEFONE)
VALUES ('123456', 'BANCO HENDRIX - RUA DA  BAHIA', 'RUA DA BAHIA, 870', '3543-7669');

INSERT INTO CLIENTES (CPF, NOME, CONTACORRENTE, CONTAPOUPANCA, CARTAOCREDITO, ENDERECO, TIPOCLIENTE, VALOREMCONTA, MATRICULA_FUNC, ID_BANCO)
VALUES (22222222222, 'LAYLA COMPARIN', 'S', 'S', 'S', 'RUA FARIA DE JOSE, 888', 'OURO', '5000', '1', '1'),
(33333333333, 'MARIA DA PENHA', 'S', 'N', 'N', 'RUA FARIA DE JOSE, 999', 'COMUM', '500', '3', '1'),
(55555555555, 'MARILIA DAS GRACAS', 'S', 'N', 'S', 'RUA FARIA DE JOSE, 666', 'DIAMANTE', '500000', '2', '1');

# 1- QUEM SÃO OS FUNCIONÁRIOS?
SELECT * FROM FUNCIONARIOS;
# 2- QUAIS OS DADOS DO BANCO?
SELECT * FROM BANCO;
# 3- QUEM SÃO OS CLIENTES?
SELECT * FROM CLIENTES;
# 4- QUAIS SÃO OS FUNCIONÁRIOS QUE GEREM OS CLIENTES E SEUS RESPECTIVOS NOMES?
SELECT C.NOME AS NOME_CLIENTE, F.NOME AS NOME_FUNCIONARIO FROM CLIENTES C 
INNER JOIN FUNCIONARIOS F ON C.MATRICULA_FUNC = F.MATRICULA;
# 5- QUAIS SÃO OS FUNCIONÁRIOS QUE GEREM OS CLIENTES E DE QUE BANCO ELES SÃO?
SELECT C.NOME AS NOME_CLIENTE, F.NOME AS NOME_FUNCIONARIO, B.NOME AS NOME_BANCO FROM CLIENTES C 
INNER JOIN FUNCIONARIOS F ON C.MATRICULA_FUNC = F.MATRICULA
INNER JOIN BANCO B ON B.ID_BANCO = C.ID_BANCO;








